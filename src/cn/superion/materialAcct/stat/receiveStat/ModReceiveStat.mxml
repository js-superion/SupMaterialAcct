<?xml version="1.0" encoding="utf-8"?>
<mx:Module xmlns:fx="http://ns.adobe.com/mxml/2009"
		   xmlns:s="library://ns.adobe.com/flex/spark"
		   xmlns:mx="library://ns.adobe.com/flex/mx"
		   layout="vertical"
		   height="100%"
		   width="100%"
		   horizontalScrollPolicy="auto"
		   backgroundColor="#E2E8E8"
		   xmlns:controls="cn.superion.base.components.controls.*"
		   creationComplete="doInit()"
		   xmlns:util="cn.superion.materialAcct.util.*">
	<fx:Script source="ModReceiveStatas.as"/>
	<s:Scroller id="scrol"
				width="100%"
				height="100%">
		<s:VGroup id="vg"
				  gap="0"
				  height="100%"
				  width="100%">


			<util:MainToolBar id="tbarMain"
							  width="100%"
							  expClick="toolBar_expClickHandler(event)"
							  printClick="toolBar_printClickHandler(event)"
							  queryClick="tbarMain_queryClickHandler(event)"
							  exitClick="tbarMain_exitClickHandler(event)"/>
			<controls:BarSubTitle title="入库汇总统计表"
								  height="28"/>
			<s:BorderContainer id="bord"
							   width="100%"
							   height="100%"
							   backgroundColor="#E2E8E8">
				<s:layout>
					<s:VerticalLayout verticalAlign="top"
									  paddingLeft="5"
									  paddingTop="5"
									  paddingRight="5"
									  paddingBottom="5"/>
				</s:layout>
				<s:HGroup paddingLeft="10"
						  verticalAlign="middle">
					<s:Label text="供应单位："
							 fontSize="14"/>
					<s:TextInput id="salerName"
								 editable="false"
								 width="400"/>
				</s:HGroup>
				<mx:ViewStack id="myViewStack"
							  width="100%"
							  height="100%">

					<s:NavigatorContent id="saleGroup"
										width="100%"
										height="100%">
						<controls:SuperDataGrid id="gdSaleGroup"
												hasRowNo="true"
												width="100%"
												horizontalScrollPolicy="auto"
												height="100%"
												sortableColumns="true"
												sumLableField="serialNo"
												sumRowLabelText="合计"
												dataProvider="{_dataProvider}"
												sumField="{['tradeMoney','saleMoney','retailMoney','factTradeMoney','subSaleTrade','subTradeFactTrade','subSaleFactTrade']}"
												styleName="dataGrid"
												isAutoFetchDictData="false"
												format="{[,,,,'0.00','0.00','0.00','0.00','0.00','0.00','0.00','0.00','0.00','0.00']}">
							<controls:columns>
								<mx:DataGridColumn dataField="serialNo"
												   labelFunction="labFun"
												   headerText="序号"
												   width="40"/>
								<!--<mx:DataGridColumn dataField="rdBillNo"
									 headerText="入库单号"
									 width="110"
									 textAlign="left"/>
									 <mx:DataGridColumn dataField="billDate"
									 headerText="入库日期"
									 width="110"
									 textAlign="left"/>
									 <mx:DataGridColumn headerText="发票号"
									 dataField="invoiceNo"
									 width="90"
									 textAlign="left"/>
									 <mx:DataGridColumn headerText="发票日期"
									 dataField="invoiceDate"
									 width="100"
									 textAlign="left"/>
									 <mx:DataGridColumn headerText="记账日期"
									 dataField="accountDate"
									 width="100"
									 textAlign="left"/>-->
								<mx:DataGridColumn dataField="salerName"
												   headerText="供应单位"
												   width="220"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="saleMoney"
												   headerText="批发金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="saleMoney1"
												   headerText="批发金额（计价）"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="saleMoney0"
												   headerText="批发金额（不计价）"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradeMoney"
												   headerText="进价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney"
												   headerText="零售金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney1"
												   headerText="零售金额（计价）"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney0"
												   headerText="零售金额（不计价）"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="factTradeMoney"
												   headerText="应付金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn labelFunction="labFun"
												   headerText="进批差额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn labelFunction="labFun"
												   headerText="折让金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn labelFunction="labFun"
												   headerText="优惠总额"
												   visible="false"
												   width="0"
												   textAlign="right"/>
								<mx:DataGridColumn labelFunction="labFun"
												   headerText="扣率"
												   width="70"
												   textAlign="right"/>
								<mx:DataGridColumn labelFunction="labFun"
												   headerText="缴现金"
												   width="70"
												   textAlign="right"/>

							</controls:columns>
						</controls:SuperDataGrid>
					</s:NavigatorContent>

					<s:NavigatorContent id="saleMaterialGroup"
										width="100%"
										height="100%">
						<controls:SuperDataGrid id="gdSaleMaterialGroup"
												hasRowNo="true"
												sumLableField="serialNo"
												sumRowLabelText="合计"
												width="100%"
												dataProvider="{_dataProvider}"
												height="100%"
												styleName="dataGrid"
												sumField="{['acctAmount','tradeMoney','saleMoney','retailMoney','subRetailSale','subSaleTrade2']}"
												horizontalScrollPolicy="auto"
												format="{[,,,,,,,,,,'0.00','0.00','0.00','0.00','0.00','0.00','0.00','0.00']}">
							<controls:columns>
								<mx:DataGridColumn dataField="serialNo"
												   headerText="序号"
												   labelFunction="labFun"
												   width="40"/>
								<mx:DataGridColumn headerText="发票号"
												   dataField="invoiceNo"
												   width="140"
												   textAlign="left"/>
								<mx:DataGridColumn headerText="发票日期"
												   dataField="invoiceDate"
												   width="90"
												   textAlign="left"/>
								<mx:DataGridColumn headerText="记账日期"
												   dataField="accountDate"
												   width="90"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="salerName"
												   headerText="供应单位"
												   width="220"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialCode"
												   headerText="物资编码"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialName"
												   headerText="物资名称"
												   width="220"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialSpec"
												   headerText="规格型号"
												   width="130"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialUnits"
												   headerText="单位"
												   width="60"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="acctAmount"
												   headerText="数量"
												   width="80"
												   textAlign="right"
												   color="#0000FF"/>
								<mx:DataGridColumn dataField="wholeSalePrice"
												   headerText="批发价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="saleMoney"
												   headerText="批发价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradePrice"
												   headerText="进价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradeMoney"
												   headerText="进价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailPrice"
												   headerText="零售价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney"
												   headerText="零售价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="批零差额"
												   width="100"
												   labelFunction="labFun"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="优惠金额"
												   width="0"
												   visible="false"
												   labelFunction="labFun"
												   textAlign="right"/>

							</controls:columns>
						</controls:SuperDataGrid>
					</s:NavigatorContent>
					<s:NavigatorContent id="materialGroup"
										width="100%"
										height="100%">
						<controls:SuperDataGrid id="gdMasterialGroup"
												hasRowNo="true"
												width="100%"
												horizontalScrollPolicy="auto"
												height="100%"
												sumLableField="serialNo"
												sumRowLabelText="合计"
												dataProvider="{_dataProvider}"
												styleName="dataGrid"
												sumField="{['acctAmount','tradeMoney','saleMoney','retailMoney','subRetailSale','subSaleTrade2']}"
												format="{[,,,,,,'0.00','0.00','0.00','0.00','0.00','0.00','0.00','','','','']}">
							<controls:columns>
								<mx:DataGridColumn dataField="serialNo"
												   headerText="序号"
												   labelFunction="labFun"
												   width="40"/>
								<mx:DataGridColumn dataField="materialCode"
												   headerText="物资编码"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialName"
												   headerText="物资名称"
												   width="220"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialSpec"
												   headerText="规格型号"
												   width="130"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialUnits"
												   headerText="单位"
												   width="62"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="acctAmount"
												   headerText="数量"
												   width="80"
												   textAlign="right"
												   color="#0000FF"/>
								<mx:DataGridColumn dataField="wholeSalePrice"
												   headerText="批发价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="saleMoney"
												   headerText="批发价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradePrice"
												   headerText="进价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradeMoney"
												   headerText="进价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailPrice"
												   headerText="零售价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney"
												   headerText="零售价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="批零差额"
												   width="100"
												   labelFunction="labFun"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="优惠金额"
												   width="0"
												   visible="false"
												   labelFunction="labFun"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="rdBillNo"
												   headerText="入库单号"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="accountDate"
												   headerText="入库日期"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="invoiceNo"
												   headerText="发票号"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="invoiceDate"
												   headerText="发票日期"
												   width="110"
												   textAlign="left"/>

							</controls:columns>
						</controls:SuperDataGrid>
					</s:NavigatorContent>
					<s:NavigatorContent id="materialGroup1"
										width="100%"
										height="100%">
						<controls:SuperDataGrid id="gdMasterialGroup1"
												hasRowNo="true"
												width="100%"
												horizontalScrollPolicy="auto"
												height="100%"
												sumLableField="serialNo"
												sumRowLabelText="合计"
												dataProvider="{_dataProvider}"
												styleName="dataGrid"
												sumField="{['acctAmount','tradeMoney','saleMoney','retailMoney','subRetailSale','subSaleTrade2']}"
												format="{[,,,,,'0.00','0.00','0.00','0.00','0.00','0.00','0.00','0.00','','','','']}">
							<controls:columns>
								<mx:DataGridColumn dataField="serialNo"
												   headerText="序号"
												   labelFunction="labFun"
												   width="40"/>
								<mx:DataGridColumn dataField="materialCode"
												   headerText="物资编码"
												   width="110"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialName"
												   headerText="物资名称"
												   width="220"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialSpec"
												   headerText="规格型号"
												   width="130"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="materialUnits"
												   headerText="单位"
												   width="62"
												   textAlign="left"/>
								<mx:DataGridColumn dataField="acctAmount"
												   headerText="数量"
												   width="80"
												   textAlign="right"
												   color="#0000FF"/>
								<mx:DataGridColumn dataField="wholeSalePrice"
												   headerText="批发价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="saleMoney"
												   headerText="批发价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradePrice"
												   headerText="进价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="tradeMoney"
												   headerText="进价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailPrice"
												   headerText="零售价"
												   width="80"
												   textAlign="right"/>
								<mx:DataGridColumn dataField="retailMoney"
												   headerText="零售价金额"
												   width="100"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="批零差额"
												   width="100"
												   labelFunction="labFun"
												   textAlign="right"/>
								<mx:DataGridColumn headerText="优惠金额"
												   width="0"
												   visible="false"
												   labelFunction="labFun"
												   textAlign="right"/>
							</controls:columns>
						</controls:SuperDataGrid>
					</s:NavigatorContent>

				</mx:ViewStack>

			</s:BorderContainer>

		</s:VGroup>
	</s:Scroller>
</mx:Module>
